<polymer-element name="home-duels"
                 attributes="name initialGamesJson">
    <template>
            <style scoped>
                a { color: wheat;}
                .flexed ol {
                    display:flex;
                    overflow-x:scroll;
                    margin:0;
                    padding:0;
                    height:20em;
                    list-style-type: none;
                    flex-flow: column;
                    flex-wrap:wrap;
                }
                ::-webkit-scrollbar {
                    width:  0.5em;
                    height: 0.5em;
                }

                ::-webkit-scrollbar-thumb {
                    background: white;
                }

                ::-webkit-scrollbar-track {
                    background: slategray;
                }
                .flexed ol li {
                    flex: 10 0 auto;
                    margin-right:1em;
                }
                .flexed ol li a {
                    display:block;
                }
                #duels ol li {
                    width:20em;
                }
                a:focus {
                    background:#1b325f;
                    outline: 0;
                }
            </style>
                <div id="duels" class="flexed">
                    <h2>Latest Duels</h2>
                    <ol>
                        <template repeat="{{duel in duels.items}}">
                            <li id="{{duel.globalId}}" class="{{ {active: duel == activeItem} | tokenList}}">
                                <a href="/duel/{{duel.id}}/">
                                    <h3>{{duel['left-player-name']}} vs {{duel['right-player-name']}}</h3>
                                    <h4>{{duel['left-player-score']}} vs {{duel['right-player-score']}}</h4>
                                    <h5>{{duel.mode}} @ {{duel.map}}</h5>
                                </a>
                            </li>
                        </template>
                    </ol>
                </div>
    </template>
    <script>
        Polymer("home-duels", {
            ready: function() {
                scrollHorizons(unwrap(this.shadowRoot.querySelector('#duels ol')));
            },
            initialGamesJsonChanged: function(_, v) {
                this.duels = {
                    items: JSON.parse(v)
                };
            }
        })
    </script>
</polymer-element>